from __future__ import print_function
from visual import *

s = sphere()
l = label(pos=s.pos, text="hello")
redrawCount = 0

class RedrawCounter(object):
    redrawCount = 0

    def increment(self, redrawInfo=None):
        self.redrawCount += 1

def handleMouseDown( mInfo ):
    print("Mouse down! x = ", mInfo.x, "y = ", mInfo.y)    

    if m.enabled:
        m.stop()
        print("Char events are now disabled")
    else:
        m.start()
        print("Char events are now enabled")

def handleMouseUp( mInfo ):
    print("Mouse up! x = ", mInfo.x, "y = ", mInfo.y)

def handleMouseClick( mInfo ):
    print("Mouse click! x = ", mInfo.x, "y = ", mInfo.y)
        
def handleChar( chInfo ):
    print("The ", chInfo.key, "character has been processed")
    if chInfo.key == 'R':
        print("There have been", redraw.redrawCount, "redraws")

def handleKeyUp( kInfo ):
    print("The ", kInfo.key, "key has gone up")

def handleKeyDown( kInfo ):
    print("The ", kInfo.key, "key has gone down")

def handleMouseMove( mouseInfo ):
    print("Mouse moved! x=", mouseInfo.x, "y=", mouseInfo.y)

redraw = RedrawCounter()

scene.bind('mousedown', handleMouseDown)
scene.bind('mouseup', handleMouseUp)
scene.bind('click', handleMouseClick)

m = scene.bind('char', handleChar)
scene.bind('keyup', handleKeyUp)
scene.bind('keydown', handleKeyDown)
scene.bind('redraw', redraw.increment)
scene.bind('mousemove', handleMouseMove)


